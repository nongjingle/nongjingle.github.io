---
title: "206.Reverse Linked List"
categories: [leetcode]
tags: [leetcode]
---

## 2. Add Two Numbers

[problem link](https://leetcode.com/problems/reverse-linked-list/)

### C++
#### iteration
```c++
#ifndef LISTNODE_H
struct ListNode {
  int val;
  ListNode* next;
  ListNode() : val(0), next(nullptr) {}
  ListNode(int x) : val(0), next(nullptr) {}
  ListNode(int x, ListNode* p) : val(x), next(p) {}
};
#endif

class Solution {
 public:
  ListNode* reverseList(ListNode* head) {
    if (head == nullptr || head->next == nullptr) return head;

    ListNode* pre = nullptr;
    ListNode* cur = head;
    ListNode* next = head->next;

    while (cur != nullptr) {
      cur->next = pre;
      pre = cur;
      cur = next;
      if (next != nullptr) next = next->next;
    }
    return pre;
  }
};
```
#### recursion
```c++
#ifndef LISTNODE_H
struct ListNode {
  int val;
  ListNode* next;
  ListNode() : val(0), next(nullptr) {}
  ListNode(int x) : val(x), next(nullptr) {}
  ListNode(int x, ListNode* p) : val(x), next(p) {}
};
#endif

class Solution {
 public:
  ListNode* reverseList(ListNode* head) {
    if (head == nullptr || head->next == nullptr) return head;

    ListNode* last = reverseList(head->next);
    head->next->next = head;
    head->next = nullptr;
    return last;
  }
};
```


### Python
#### iteration
```python
class Solution:
    def reverseList(self, head: Optional[ListNode]) -> Optional[ListNode]:
        if head is None or head.next is None:
            return head
        pre = None
        cur = head
        sub = head.next
        while cur is not None:
            cur.next = pre
            pre = cur
            cur = sub
            if sub is not None:
                sub = sub.next

        return pre
```
#### recursion
```python
class Solution:
    def reverseList(self, head: Optional[ListNode]) -> Optional[ListNode]:
        if head is None or head.next is None:
            return head
        last = self.reverseList(head.next)
        head.next.next = head
        head.next = None
        return last
```

### Java
#### iteration
```java
class Solution {
    public ListNode addTwoNumbers(ListNode l1, ListNode l2) {
        ListNode dummy = new ListNode();
        ListNode p = dummy;
        ListNode p1 = l1;
        ListNode p2 = l2;
        int carry = 0;
        int val = 0;
        while (p1 != null || p2 != null || carry != 0) {
            val = carry;
            if (p1 != null) {
                val += p1.val;
                p1 = p1.next;
            }
            if (p2 != null) {
                val += p2.val;
                p2 = p2.next;
            }
            carry = val / 10;
            val %= 10;
            ListNode node = new ListNode(val);
            p.next = node;
            p = p.next;
        }

        return dummy.next;

    }
}
```
#### recursion
```java
class Solution {
    public ListNode reverseList(ListNode head) {
        if (head == null || head.next == null)
            return head;
        ListNode last = reverseList(head.next);
        head.next.next = head;
        head.next = null;
        return last;
    }
}
```
