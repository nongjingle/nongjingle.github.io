---
title: "445.dd Two Numbers II"
categories: [leetcode]
tags: [leetcode]
---

## 445. Add Two Numbers II

[problem link](https://leetcode.com/problems/add-two-numbers-ii/)

### C++
```c++
#include <stack>
#ifndef LISTNODE_H
struct ListNode {
  int val;
  ListNode* next;
  ListNode() : val(0), next(nullptr) {}
  ListNode(int x) : val(x), next(nullptr) {}
  ListNode(int x, ListNode* p) : val(x), next(p) {}
};
#endif
class Solution {
 public:
  ListNode* addTwoNumbers(ListNode* l1, ListNode* l2) {
    std::stack<int> stk1;
    ListNode* p1 = l1;
    while (p1 != nullptr) {
      stk1.push(p1->val);
      p1 = p1->next;
    }

    std::stack<int> stk2;
    ListNode* p2 = l2;
    while (p2 != nullptr) {
      stk2.push(p2->val);
      p2 = p2->next;
    }

    ListNode dummy(-1);

    int carry = 0;
    int val = 0;
    int num = 0;
    while (!stk1.empty() || !stk2.empty() || carry != 0) {
      val = carry;
      if (!stk1.empty()) {
        num = stk1.top();
        stk1.pop();
        val += num;
      }

      if (!stk2.empty()) {
        num = stk2.top();
        stk2.pop();
        val += num;
      }

      carry = val / 10;
      val %= 10;
      ListNode* node = new ListNode(val);
      node->next = dummy.next;
      dummy.next = node;
    }
    return dummy.next;
  }
};
```

### Python
```python
from typing import Optional

try:
    ListNode
except NameError:
    class ListNode:
        def __init__(self, x: int = 0, p: ListNode = None):
            self.val = x
            self.next = p


class Solution:
    def addTwoNumbers(self, l1: Optional[ListNode], l2: Optional[ListNode]) -> Optional[ListNode]:
        p1, p2 = l1, l2
        stk1, stk2 = [], []

        while p1 is not None:
            stk1.append(p1.val)
            p1 = p1.next

        while p2 is not None:
            stk2.append(p2.val)
            p2 = p2.next

        carry = 0
        val = 0
        dummy = ListNode(-1)

        while stk1 or stk2 or carry > 0:
            val = carry
            if stk1:
                val += stk1.pop()

            if stk2:
                val += stk2.pop()

            carry = val//10
            val %= 10
            node = ListNode(val)
            node.next = dummy.next
            dummy.next = node
        return dummy.next
```

### Java
```java
import java.util.Stack;

class Solution {
    public ListNode addTwoNumbers(ListNode l1, ListNode l2) {
        ListNode dummy = new ListNode(-1, null);
        ListNode p1 = l1;
        ListNode p2 = l2;
        Stack<Integer> stk1 = new Stack<>();
        Stack<Integer> stk2 = new Stack<>();
        while (p1 != null) {
            stk1.push(p1.val);
            p1 = p1.next;
        }
        while (p2 != null) {
            stk2.push(p2.val);
            p2 = p2.next;
        }
        int carry = 0;
        int sum = 0;
        while (!stk1.isEmpty() || !stk2.isEmpty() || carry != 0) {
            sum = carry;
            if (!stk1.isEmpty()) {
                sum += stk1.pop();
            }

            if (!stk2.isEmpty()) {
                sum += stk2.pop();
            }
            carry = sum / 10;
            sum %= 10;
            ListNode node = new ListNode(sum, null);
            node.next = dummy.next;
            dummy.next = node;
        }

        return dummy.next;

    }
}
```
